<!DOCTYPE html>
<html lang="en" data-theme="green">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whisky & Wheels</title>
    <link rel="stylesheet" href="/css/base.css" type="text/css">
    <link rel="stylesheet" href="/css/home.css" type="text/css">
    <link rel="apple-touch-icon" sizes="180x180" href="../img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../img/favicon/favicon-16x16.png">
  </head>
  <body>
    <header>
      <h1 class="u-layout-container">
        <span data-text="whisky">
          Whisky
        </span>
        <span data-text="ampersand">
          &amp;
        </span>
        <span data-text="wheels">
          Wheels
        </span>
      </h1>
    </header>
    <main class="u-layout-container u-layout-grid">
      <ww-label>
        <h3 slot="title">Something works!</h3>
      </ww-label>
      {%- for trip in collections.trip -%}
        {% if trip.data.label %}
          {% set label = trip.data.label %}
        {% else %}
          {% set label = 'glenfiddich' %}
        {% endif %}
        {# todo: proper sizes values for label images #}
        <a data-label="{{ label }}" href="{{ trip.page.url }}">
          <article class="article">
            <h2 class="title">{{ trip.data.title }}</h2>
            <h3 class="subtitle">
              <span>{{ trip.data.subtitle }}</span>
            </h3>
            {% image ["img/", trip.data.image_file, ".jpeg"] | join, trip.data.image_alt, "300px" %}
            <p class="days">
              <strong>{{ trip.data.days }}</strong>
              <span>days</span>
            </p>
            <p class="kilometres">
              <strong>{{ trip.data.kilometres }}</strong>
              <span>km</span>
            </p>
            <p class="location">
              <span>From</span>
              <strong>{{ trip.data.start }}</strong>
              <span>to</span>
              <strong>{{ trip.data.end }}</strong>
            </p>
            <p class="excerpt">
              {% if trip.data.label == 'glenlivet' %}
                {{ trip.page.excerpt | truncate(50) }}
              {% else %}
                {{ trip.page.excerpt }}
              {% endif %}
            </p>
          </article>
        </a>
      {%- endfor -%}
    </main>
    <footer>
      <div class="u-layout-container">
        <a href="/whisky">More about whisky</a>
        <a href="/wheels">More about wheels</a>
        <!-- .u-layout-container -->
      </div>
      <section id="colophon">
        <div class="u-layout-container">
          <h2 class="title">Colophon</h2>
          <p>This site is built with
            <a href="https://www.11ty.dev/" rel="external nofollow noopener">11ty</a>, using
            <a href="https://www.11ty.dev/docs/plugins/image/" rel="external nofollow noopener">eleventy-img</a>,
            <a href="https://www.11ty.dev/docs/languages/markdown//" rel="external nofollow noopener">Markdown</a>, and
            <a href="https://mozilla.github.io/nunjucks/templating.html" rel="external nofollow noopener">Nunjucks.</a>
          </p>
          <p>The variable font is
            <a href="https://fonts.google.com/specimen/Fraunces/tester" rel="external nofollow noopener">Fraunces</a>, sourced from Google Fonts and served locally.</p>
          <p>The maps are created with
            <a href="https://leafletjs.com/" rel="external nofollow noopener">Leaflet</a>.</p>
          <p>The favicon was designed by Maureen and generated in appropriate formats with
            <a href="https://favicon.io/" rel="external nofollow noopener">favicon.io</a>
          </p>
          <!-- .u-layout-container -->
        </div>
      </section>
      <div class="u-layout-container">
        <p>
          <small>
            &copy; 2023 Maureen Holland and Jack Araz. Don't sip and cycle.
          </small>
        </p>
        <!-- .u-layout-container -->
      </div>
    </footer>
    <script>
      class Label extends HTMLElement {
        constructor() {
          super();
          const template = document.createElement('template');
          template.innerHTML = `<article class="article">
            <slot name="title">A title<slot>
          </article>`
          const shadowRoot = this.attachShadow({mode: "open"});
          shadowRoot.appendChild(template.content.cloneNode(true));
        }
      }
      customElements.define('ww-label', Label);
    </script>
  </body>
</html>